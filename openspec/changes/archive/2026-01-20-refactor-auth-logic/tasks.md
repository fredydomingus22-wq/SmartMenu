# Tasks: Refactor Authentication Logic

- [x] Audit current auth flow and identify the specific error <!-- id: 1 -->
- [x] Refactor `apps/web/utils/supabase/middleware.ts` <!-- id: 2 -->
    - [x] Ensure proper session handling
    - [x] Optimize redirect logic
- [x] Refactor Login Page/Action if needed <!-- id: 3 -->
- [x] Verify RBAC enforcement <!-- id: 4 -->
- [x] Test login flow with different roles <!-- id: 5 -->
